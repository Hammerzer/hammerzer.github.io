<!DOCTYPE html><html lang="zh-CN"><head><script src="https://lib.sinaapp.com/js/jquery/1.7.2/jquery.min.js"></script><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2"><link rel="apple-touch-icon" sizes="180x180" href="/images/180-180.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/32-32.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/16-16.png"><link rel="mask-icon" href="/images/logo.svg" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/lib/font-awesome/css/all.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/pace-js@1/themes/blue/pace-theme-minimal.css"><script src="//cdnjs.cloudflare.com/ajax/libs/pace/1.0.2/pace.min.js"></script><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"hammerzer.github.io",root:"/",scheme:"Gemini",version:"7.8.0",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:"flat"},back2top:{enable:!0,sidebar:!0,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:"valine",storage:!0,lazyload:!1,nav:null,activeClass:"valine"},algolia:{hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},path:"search.xml"}</script><meta name="description" content="CONTENT OUTLINE  关于Python学习，每遇未知点即记录！ Python 3.11.4 文档 Python 3.8.17 documentation 廖雪峰Python教程 W3C Python教程 菜鸟教程 Python100 教程"><meta property="og:type" content="article"><meta property="og:title" content="Python-Start"><meta property="og:url" content="https://hammerzer.github.io/2023/07/19/Python-Start/index.html"><meta property="og:site_name" content="Moustache&#39;s Blog"><meta property="og:description" content="CONTENT OUTLINE  关于Python学习，每遇未知点即记录！ Python 3.11.4 文档 Python 3.8.17 documentation 廖雪峰Python教程 W3C Python教程 菜鸟教程 Python100 教程"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://hammerzer.github.io/2023/07/19/Python-Start/7-1.png"><meta property="og:image" content="https://hammerzer.github.io/2023/07/19/Python-Start/7-2.png"><meta property="og:image" content="https://hammerzer.github.io/2023/07/19/Python-Start/7-3.png"><meta property="og:image" content="https://hammerzer.github.io/2023/07/19/Python-Start/7-4.png"><meta property="og:image" content="https://hammerzer.github.io/2023/07/19/Python-Start/8-1.png"><meta property="og:image" content="https://hammerzer.github.io/2023/07/19/Python-Start/8-2.png"><meta property="og:image" content="https://hammerzer.github.io/2023/07/19/Python-Start/8-3.png"><meta property="og:image" content="https://hammerzer.github.io/2023/07/19/Python-Start/8-4.png"><meta property="og:image" content="https://hammerzer.github.io/2023/07/19/Python-Start/8-5.png"><meta property="og:image" content="https://hammerzer.github.io/2023/07/19/Python-Start/8-6.png"><meta property="og:image" content="https://hammerzer.github.io/2023/07/19/Python-Start/8-4.png"><meta property="og:image" content="https://hammerzer.github.io/2023/07/19/Python-Start/8-4.png"><meta property="og:image" content="https://hammerzer.github.io/2023/07/19/Python-Start/8-4.png"><meta property="article:published_time" content="2023-07-19T03:21:49.000Z"><meta property="article:modified_time" content="2025-01-19T03:19:15.834Z"><meta property="article:author" content="Moustache"><meta property="article:tag" content="Python"><meta property="article:tag" content="Deep Learning"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://hammerzer.github.io/2023/07/19/Python-Start/7-1.png"><link rel="canonical" href="https://hammerzer.github.io/2023/07/19/Python-Start/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,lang:"zh-CN"}</script><title>Python-Start | Moustache's Blog</title><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="alternate" href="/atom.xml" title="Moustache's Blog" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span><h1 class="site-title">Moustache's Blog</h1><span class="logo-line-after"><i></i></span></a><p class="site-subtitle" itemprop="description">小胡子的私人空间</p></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul id="menu" class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">34</span></a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">9</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">78</span></a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"><div id="no-result"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div></div></div></div></header><div class="reading-progress-bar"></div><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content post posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://hammerzer.github.io/2023/07/19/Python-Start/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/180-180.png"><meta itemprop="name" content="Moustache"><meta itemprop="description" content="我是小胡子"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Moustache's Blog"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Python-Start</h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2023-07-19 11:21:49" itemprop="dateCreated datePublished" datetime="2023-07-19T11:21:49+08:00">2023-07-19</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2025-01-19 11:19:15" itemprop="dateModified" datetime="2025-01-19T11:19:15+08:00">2025-01-19</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Artificial-Intelligence/" itemprop="url" rel="index"><span itemprop="name">Artificial Intelligence</span></a> </span></span><span id="/2023/07/19/Python-Start/" class="post-meta-item leancloud_visitors" data-flag-title="Python-Start" title="阅读次数"><span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="post-meta-item-text">阅读次数：</span> <span class="leancloud-visitors-count"></span> <span>℃</span> </span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="post-meta-item-text">阅读次数：</span> <span id="busuanzi_value_page_pv"></span> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i> </span><span class="post-meta-item-text">Valine：</span> <a title="valine" href="/2023/07/19/Python-Start/#valine-comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/2023/07/19/Python-Start/" itemprop="commentCount"></span></a></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>21k</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>19 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><h2 id="CONTENT-OUTLINE"><a href="#CONTENT-OUTLINE" class="headerlink" title="CONTENT OUTLINE"></a>CONTENT OUTLINE</h2><blockquote><p><span style="background:#ff0"></span></p><p>关于Python学习，每遇未知点即记录！</p><p><a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3/">Python 3.11.4 文档</a></p><p><a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3.8/">Python 3.8.17 documentation</a></p><p><a target="_blank" rel="noopener" href="https://www.liaoxuefeng.com/wiki/1016959663602400/1016959735620448">廖雪峰Python教程</a></p><p><a target="_blank" rel="noopener" href="https://www.w3cschool.cn/python/dict">W3C Python教程</a></p><p><a target="_blank" rel="noopener" href="https://www.runoob.com/python3/python3-tutorial.html">菜鸟教程</a></p><p><a target="_blank" rel="noopener" href="https://www.python100.com/biji/">Python100 教程</a></p></blockquote><span id="more"></span><h2 id="〇、目录"><a href="#〇、目录" class="headerlink" title="〇、目录"></a>〇、目录</h2><ul><li>常用内置函数</li></ul><h2 id="一-数据结构"><a href="#一-数据结构" class="headerlink" title="一 数据结构"></a>一 数据结构</h2><h2 id="二-语句类问题"><a href="#二-语句类问题" class="headerlink" title="二 语句类问题"></a>二 语句类问题</h2><h3 id="1、表达式"><a href="#1、表达式" class="headerlink" title="1、表达式"></a>1、表达式</h3><h4 id="1-1-yield表达式"><a href="#1-1-yield表达式" class="headerlink" title="1.1 yield表达式"></a>1.1 <a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3.8/reference/expressions.html?highlight=yield#yield-expressions">yield表达式</a></h4><p>yield 表达式在定义 <a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3.8/glossary.html#term-generator">generator</a> 函数或是 <a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3.8/glossary.html#term-asynchronous-generator">asynchronous generator</a> 的时候才会用到。 因此只能在函数定义的内部使用yield表达式。 在一个函数体内使用 yield 表达式会使这个函数变成一个生成器，并且在一个 <a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3.8/reference/compound_stmts.html#async-def"><code>async def</code></a> 定义的函数体内使用 yield 表达式会让协程函数变成异步的生成器。 比如说:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">gen</span>():  <span class="comment"># defines a generator function</span></span><br><span class="line">    <span class="keyword">yield</span> <span class="number">123</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">agen</span>(): <span class="comment"># defines an asynchronous generator function</span></span><br><span class="line">    <span class="keyword">yield</span> <span class="number">123</span></span><br></pre></td></tr></table></figure><p>由于它们会对外层作用域造成附带影响，<code>yield</code> 表达式不被允许作为用于实现推导式和生成器表达式的隐式定义作用域的一部分。</p><p>当一个生成器函数被调用的时候，它返回一个<strong>迭代器</strong>，称为<strong>生成器</strong>。然后这个生成器来控制生成器函数的执行。当这个生成器的某一个方法被调用的时候，生成器函数开始执行。<strong>这时会一直执行到第一个 yield 表达式，在此执行再次被挂起，给生成器的调用者返回 <a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3.8/reference/expressions.html?highlight=yield#grammar-token-expression-list"><code>expression_list</code></a> 的值。</strong>挂起后，我们说所有局部状态都被保留下来，包括局部变量的当前绑定，指令指针，内部求值栈和任何异常处理的状态。通过调用生成器的某一个方法，生成器函数继续执行。此时函数的运行就和 yield 表达式只是一个外部函数调用的情况完全一致。恢复后 yield 表达式的值取决于调用的哪个方法来恢复执行。 如果用的是 <a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3.8/reference/expressions.html?highlight=yield#generator.__next__"><code>__next__()</code></a> (通常通过语言内置的 <a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3.8/reference/compound_stmts.html#for"><code>for</code></a> 或是 <a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3.8/library/functions.html#next"><code>next()</code></a> 来调用) 那么结果就是 <a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3.8/library/constants.html#None"><code>None</code></a>. 否则，如果用 <a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3.8/reference/expressions.html?highlight=yield#generator.send"><code>send()</code></a>, 那么结果就是传递给send方法的值。</p><p>所有这些使生成器函数与协程非常相似；它们 yield 多次，它们具有多个入口点，并且它们的执行可以被挂起。唯一的区别是生成器函数不能控制在它在 yield 后交给哪里继续执行；控制权总是转移到生成器的调用者。</p><p>在 <a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3.8/reference/compound_stmts.html#try"><code>try</code></a> 结构中的任何位置都允许yield表达式。如果生成器在(因为引用计数到零或是因为被垃圾回收)销毁之前没有恢复执行，将调用生成器-迭代器的 <a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3.8/reference/expressions.html?highlight=yield#generator.close"><code>close()</code></a> 方法. close 方法允许任何挂起的 <a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3.8/reference/compound_stmts.html#finally"><code>finally</code></a> 子句执行。</p><p>当使用 <code>yield from &lt;expr&gt;</code> 时，所提供的表达式必须是一个可迭代对象。 迭代该可迭代对象所产生的值会被直接传递给当前生成器方法的调用者。 任何通过 <a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3.8/reference/expressions.html?highlight=yield#generator.send"><code>send()</code></a> 传入的值以及任何通过 <a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3.8/reference/expressions.html?highlight=yield#generator.throw"><code>throw()</code></a> 传入的异常如果有适当的方法则会被传给下层迭代器。 如果不是这种情况，那么 <a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3.8/reference/expressions.html?highlight=yield#generator.send"><code>send()</code></a> 将引发 <a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3.8/library/exceptions.html#AttributeError"><code>AttributeError</code></a> 或 <a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3.8/library/exceptions.html#TypeError"><code>TypeError</code></a>，而 <a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3.8/reference/expressions.html?highlight=yield#generator.throw"><code>throw()</code></a> 将立即引发所转入的异常。</p><p>当下层迭代器完成时，被引发的 <a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3.8/library/exceptions.html#StopIteration"><code>StopIteration</code></a> 实例的 <code>value</code> 属性会成为 yield 表达式的值。 它可以在引发 <a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3.8/library/exceptions.html#StopIteration"><code>StopIteration</code></a> 时被显式地设置，也可以在子迭代器是一个生成器时自动地设置（通过从子生成器返回一个值）。</p><br><h3 id="2、关键字"><a href="#2、关键字" class="headerlink" title="2、关键字"></a>2、关键字</h3><h4 id="2-1-with"><a href="#2-1-with" class="headerlink" title="2.1 with"></a>2.1 with</h4><blockquote><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/bradyM/article/details/125482733">原文</a> | 或见本文第七节【异常处理】</p></blockquote><p>对于系统资源如文件、数据库连接、socket 而言，应用程序打开这些资源并执行完业务逻辑之后，必须做的一件事就是要关闭（释放）该资源。</p><p>比如 Python 程序打开一个文件，往文件中写内容，写完之后，就要关闭该文件，如果不关闭会出现什么情况呢？极端情况下会出现 <code>Too many open files</code> 的错误，因为系统允许你打开的最大文件数量是有限的。同样，对于数据库，如果连接数过多而没有及时关闭的话，就可能会出现 <code>Can not connect to MySQL server Too many connections</code>，因为数据库连接是一种非常昂贵的资源，不可能无限制的被创建。</p><p>我们所熟知的<code>try except finally</code> 可以解决上述问题，但这样的结构一多会导致整体代码结构 很臃肿繁琐，不易读、不美观。所以用<code>with…as…</code>语句对其进行简化。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#open 方法的返回值赋值给变量 f</span></span><br><span class="line"><span class="comment">#当离开 with 代码块的时候，系统会自动调用 f.close() 方法</span></span><br><span class="line"><span class="comment">#with 的作用和使用 try/finally 语句是一样的</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(file, <span class="string">&quot;w&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        f.write(<span class="string">&quot;hello python&quot;</span>)</span><br></pre></td></tr></table></figure><h3 id="3、特殊语法"><a href="#3、特殊语法" class="headerlink" title="3、特殊语法"></a>3、特殊语法</h3><h4 id="3-1-f-string"><a href="#3-1-f-string" class="headerlink" title="3.1 f-string"></a>3.1 <a target="_blank" rel="noopener" href="https://blog.csdn.net/YMWM_/article/details/130462574">f-string</a></h4><p>这是<code>Python3.6</code>版本开始引入的一种字符串格式化的语法，称为<code>f-string</code>。它允许在字符串中使用花括号{}来引用Python中的变量或表达式，并将它们的值插入到字符串中。这种语法简单易懂，使得字符串格式化变得更加简洁和高效。</p><p>f-string以f或F开头，后面跟着一个带有花括号的表达式，花括号中可以放置要引用的变量或表达式。例如：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">name = <span class="string">&quot;Tom&quot;</span></span><br><span class="line">age = <span class="number">18</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;My name is <span class="subst">&#123;name&#125;</span>, and I am <span class="subst">&#123;age&#125;</span> years old.&quot;</span>)</span><br><span class="line"><span class="comment">#或者【下面的写法必须用于最后执行】</span></span><br><span class="line"><span class="string">f&#x27;<span class="subst">&#123;timer.stop():<span class="number">.2</span>f&#125;</span> sec&#x27;</span></span><br></pre></td></tr></table></figure><p>输出结果：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">My name <span class="keyword">is</span> Tom, <span class="keyword">and</span> I am <span class="number">18</span> years old.</span><br></pre></td></tr></table></figure><h4 id="3-2"><a href="#3-2" class="headerlink" title="3.2 _"></a>3.2 _</h4><blockquote><p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/056033514603">原文 From 简书</a></p></blockquote><p><strong>目前常见的用法有五种：</strong></p><ul><li>_用于<strong>临时变量</strong></li><li>var_用于解决命名冲突问题</li><li>_var用于保护变量</li><li>__var用于私有变量</li><li>__ var__用于魔术方法</li></ul><h5 id="3-2-1-用于临时变量"><a href="#3-2-1-用于临时变量" class="headerlink" title="3.2.1 _用于临时变量"></a>3.2.1 _用于临时变量</h5><p>单下划线一般用于表示临时变量，在REPL、for循环和元组拆包等场景中比较常见。</p><h6 id="1-REPL"><a href="#1-REPL" class="headerlink" title="1 REPL"></a>1 REPL</h6><p>单下划线在REPL中关联的是上一次计算的非None结果。</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; <span class="number">1</span>+<span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line">&gt;&gt;&gt; _</span><br><span class="line"><span class="number">2</span></span><br><span class="line">&gt;&gt;&gt; a=<span class="number">2</span>+<span class="number">2</span></span><br><span class="line">&gt;&gt;&gt; _</span><br><span class="line"><span class="number">2</span></span><br></pre></td></tr></table></figure><p>1+1，结果为2，赋值给_ ；而赋值表达式a=2+2a为4，但整个表达式结果为None，故不会关联到_。这有点类似日常大家使用的计算器中的ANS按键，直接保存了上次的计算结果。</p><h6 id="2-for循环中的"><a href="#2-for循环中的" class="headerlink" title="2 for循环中的_"></a>2 for循环中的_</h6><p>for循环中_ 作为临时变量用。下划线来指代没什么意义的变量。例如在如下函数中，当我们只关心函数执行次数，而不关心具体次序的情况下，可以使用_作为参数。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">nums = <span class="number">13</span></span><br><span class="line"><span class="keyword">for</span> _ in <span class="keyword">range</span>(nums):</span><br><span class="line">    fun_oper()</span><br></pre></td></tr></table></figure><h6 id="3-元组拆包中的"><a href="#3-元组拆包中的" class="headerlink" title="3 元组拆包中的_"></a>3 元组拆包中的_</h6><p>第三个用法是元组拆包，赋值的时候可以用_来表示略过的内容。如下代码忽略北京市人口数，只取得名字和区号。</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; city,_,code = (<span class="string">&#x27;Beijing&#x27;</span>,<span class="number">21536000</span>,<span class="string">&#x27;010&#x27;</span>)</span><br><span class="line">&gt;&gt;&gt; print(city,code)</span><br><span class="line"><span class="title class_">Beijing</span> <span class="number">010</span></span><br></pre></td></tr></table></figure><p>如果需要略过的内容多于一个的话，可以使用*开头的参数，表示忽略多个内容。如下代码忽略面积和人口数，只取得名字和区号</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">city,*_,code = (<span class="string">&#x27;Beijing&#x27;</span>,21536000,16410.54,<span class="string">&#x27;010&#x27;</span>)</span><br></pre></td></tr></table></figure><h6 id="4-国际化函数"><a href="#4-国际化函数" class="headerlink" title="4 国际化函数"></a>4 国际化函数</h6><p>在一些国际化编程中，_常用来表示翻译函数名。例如gettext包使用时：</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> gettext</span><br><span class="line">zh = gettext.tranlation(<span class="string">&#x27;dict&#x27;</span>,<span class="string">&#x27;locale&#x27;</span>,languages=[<span class="string">&#x27;zh_CN&#x27;</span>])</span><br><span class="line">zh.install()</span><br><span class="line">_(<span class="string">&#x27;hello world&#x27;</span>)</span><br></pre></td></tr></table></figure><p>依据设定的字典文件，其返回相应的汉字“你好世界”。</p><h6 id="5-大数字表示形式"><a href="#5-大数字表示形式" class="headerlink" title="5 大数字表示形式"></a>5 大数字表示形式</h6><p>_也可用于数字的分割，这在数字比较长的时候常用。</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; a = <span class="number">9_999_999_999</span></span><br><span class="line">&gt;&gt;&gt; a</span><br><span class="line"><span class="number">9999999999</span></span><br></pre></td></tr></table></figure><p>a的值自动忽略了下划线。这样用_分割数字，有利于便捷读取比较大的数。</p><h5 id="3-2-2-var-用于解决命名冲突问题"><a href="#3-2-2-var-用于解决命名冲突问题" class="headerlink" title="3.2.2 var_用于解决命名冲突问题"></a>3.2.2 var_用于解决命名冲突问题</h5><p>变量后面加一个下划线。主要用于解决命名冲突问题，元编程中遇到Python保留的关键字时，需要临时创建一个变量的副本时，都可以使用这种机制。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">type_obj_class</span>(<span class="params">name,class_</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">tag</span>(<span class="params">name,*content,class_</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure><p>以上代码中出现的class是Python的保留关键字，直接使用会报错，使用下划线后缀的方式解决了这个问题。</p><h5 id="3-2-3-var用于保护变量"><a href="#3-2-3-var用于保护变量" class="headerlink" title="3.2.3 _var用于保护变量"></a>3.2.3 _var用于保护变量</h5><h5 id="3-2-4-var用于私有变量"><a href="#3-2-4-var用于私有变量" class="headerlink" title="3.2.4 __var用于私有变量"></a>3.2.4 __var用于私有变量</h5><h5 id="3-2-5-var用于魔术方法"><a href="#3-2-5-var用于魔术方法" class="headerlink" title="3.2.5 var用于魔术方法"></a>3.2.5 var用于魔术方法</h5><br><h2 id="三-常用内置函数"><a href="#三-常用内置函数" class="headerlink" title="三 常用内置函数"></a>三 常用内置函数</h2><blockquote><p><a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3.8/library/functions.html">文档：内置函数</a></p></blockquote><h3 id="1、class-range-stop"><a href="#1、class-range-stop" class="headerlink" title="1、class range(stop)"></a>1、<em>class</em> <code>range</code>(<em>stop</em>)</h3><p><a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3.8/library/stdtypes.html#range"><code>range</code></a> 类型表示不可变的数字序列，通常用于在 <a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3.8/reference/compound_stmts.html#for"><code>for</code></a> 循环中循环指定的次数。</p><blockquote><p>虽然被称为函数，但 <a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3.8/library/stdtypes.html#range"><code>range</code></a> 实际上是一个不可变的序列类型，参见在 <a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3.8/library/stdtypes.html#typesseq-range">range 对象</a> 与 <a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3.8/library/stdtypes.html#typesseq">序列类型 — list, tuple, range</a> 中的文档说明。</p></blockquote><p><em>class</em> <code>range</code>(<em>start</em>, <em>stop</em>[, <em>step</em>]) 【注意：区间为前闭后开】</p><p><code>range</code> 构造器的参数必须为整数（可以是内置的 <a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3.8/library/functions.html#int"><code>int</code></a> 或任何实现了 <code>__index__</code> 特殊方法的对象）。 如果省略 <em>step</em> 参数，其默认值为 <code>1</code>。 如果省略 <em>start</em> 参数，其默认值为 <code>0</code>，如果 <em>step</em> 为零则会引发 <a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3.8/library/exceptions.html#ValueError"><code>ValueError</code></a>。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">10</span>))</span><br><span class="line">[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">1</span>, <span class="number">11</span>))</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">0</span>, <span class="number">30</span>, <span class="number">5</span>))</span><br><span class="line">[<span class="number">0</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">15</span>, <span class="number">20</span>, <span class="number">25</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">0</span>, <span class="number">10</span>, <span class="number">3</span>))</span><br><span class="line">[<span class="number">0</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">9</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">0</span>, -<span class="number">10</span>, -<span class="number">1</span>))</span><br><span class="line">[<span class="number">0</span>, -<span class="number">1</span>, -<span class="number">2</span>, -<span class="number">3</span>, -<span class="number">4</span>, -<span class="number">5</span>, -<span class="number">6</span>, -<span class="number">7</span>, -<span class="number">8</span>, -<span class="number">9</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">0</span>))</span><br><span class="line">[]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">1</span>, <span class="number">0</span>))</span><br><span class="line">[]</span><br></pre></td></tr></table></figure><br><h3 id="2、next"><a href="#2、next" class="headerlink" title="2、next()"></a>2、<a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3.8/library/functions.html#next">next()</a></h3><p><code>next</code>(<em>iterator</em>[, <em>default</em>])</p><p>通过调用 <em>iterator</em> 的 <a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3.8/library/stdtypes.html#iterator.__next__"><code>__next__()</code></a> 方法获取下一个元素。如果迭代器耗尽，则返回给定的 <em>default</em>，如果没有默认值则触发 <a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3.8/library/exceptions.html#StopIteration"><code>StopIteration</code></a>。</p><blockquote><p><strong>next()</strong> 返回迭代器的下一个项目。</p><p><strong>next()</strong> 函数要和生成迭代器的 <strong>iter()</strong> 函数一起使用。</p></blockquote><h3 id="3、iter"><a href="#3、iter" class="headerlink" title="3、iter()"></a>3、<a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3.8/library/functions.html#iter">iter()</a></h3><p><code>iter</code>(<em>object</em>[, <em>sentinel</em>])</p><p>返回一个 <a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3.8/glossary.html#term-iterator">iterator</a> 对象。根据是否存在第二个实参，第一个实参的解释是非常不同的。如果没有第二个实参，<em>object</em> 必须是支持迭代协议（有 <a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3.8/reference/datamodel.html#object.__iter__"><code>__iter__()</code></a> 方法）的集合对象，或必须支持序列协议（有 <a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3.8/reference/datamodel.html#object.__getitem__"><code>__getitem__()</code></a> 方法，且数字参数从 <code>0</code> 开始）。如果它不支持这些协议，会触发 <a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3.8/library/exceptions.html#TypeError"><code>TypeError</code></a>。如果有第二个实参 <em>sentinel</em>，那么 <em>object</em> 必须是可调用的对象。这种情况下生成的迭代器，每次迭代调用它的 <a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3.8/library/stdtypes.html#iterator.__next__"><code>__next__()</code></a> 方法时都会不带实参地调用 <em>object</em>；如果返回的结果是 <em>sentinel</em> 则触发 <a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3.8/library/exceptions.html#StopIteration"><code>StopIteration</code></a>，否则返回调用结果。</p><p>适合 <a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3.8/library/functions.html#iter"><code>iter()</code></a> 的第二种形式的应用之一是构建块读取器。 例如，从二进制数据库文件中读取固定宽度的块，直至到达文件的末尾:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> partial</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;mydata.db&#x27;</span>, <span class="string">&#x27;rb&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="keyword">for</span> block <span class="keyword">in</span> <span class="built_in">iter</span>(partial(f.read, <span class="number">64</span>), <span class="string">b&#x27;&#x27;</span>):</span><br><span class="line">        process_block(block)</span><br></pre></td></tr></table></figure><h3 id="4、len"><a href="#4、len" class="headerlink" title="4、len()"></a>4、<a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3.8/library/functions.html#len">len()</a></h3><p><code>len</code>(<em>s</em>)</p><p>返回对象的长度（元素个数）。实参可以是序列（如 string、bytes、tuple、list 或 range 等）或集合（如 dictionary、set 或 frozen set 等）。</p><h3 id="5、zip"><a href="#5、zip" class="headerlink" title="5、zip()"></a>5、<a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3.8/library/functions.html#zi">zip()</a></h3><p><code>zip</code>(*<em>iterables</em>)</p><p>创建一个聚合了来自每个可迭代对象中的元素的迭代器。</p><p>返回一个元组的迭代器，其中的第 <em>i</em> 个元组包含来自每个参数序列或可迭代对象的第 <em>i</em> 个元素。 当所输入可迭代对象中最短的一个被耗尽时，迭代器将停止迭代。 当只有一个可迭代对象参数时，它将返回一个单元组的迭代器。 不带参数时，它将返回一个空迭代器。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c = [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>zipped = <span class="built_in">zip</span>(a,b)     <span class="comment"># 返回一个对象</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>zipped</span><br><span class="line">&lt;<span class="built_in">zip</span> <span class="built_in">object</span> at <span class="number">0x103abc288</span>&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">list</span>(zipped)  <span class="comment"># list() 转换为列表</span></span><br><span class="line">[(<span class="number">1</span>, <span class="number">4</span>), (<span class="number">2</span>, <span class="number">5</span>), (<span class="number">3</span>, <span class="number">6</span>)]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">list</span>(<span class="built_in">zip</span>(a,c))              <span class="comment"># 元素个数与最短的列表一致</span></span><br><span class="line">[(<span class="number">1</span>, <span class="number">4</span>), (<span class="number">2</span>, <span class="number">5</span>), (<span class="number">3</span>, <span class="number">6</span>)]</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a1, a2 = <span class="built_in">zip</span>(*<span class="built_in">zip</span>(a,b))          <span class="comment"># 与 zip 相反，zip(*) 可理解为解压，返回二维矩阵式</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">list</span>(a1)</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">list</span>(a2)</span><br><span class="line">[<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure><br><h2 id="四-成员函数【待确定名称】"><a href="#四-成员函数【待确定名称】" class="headerlink" title="四 成员函数【待确定名称】"></a>四 成员函数【待确定名称】</h2><h3 id="1、特殊成员函数"><a href="#1、特殊成员函数" class="headerlink" title="1、特殊成员函数"></a>1、特殊成员函数</h3><h4 id="1-1-flatten"><a href="#1-1-flatten" class="headerlink" title="1.1 flatten()"></a>1.1 flatten()</h4><p><code>flatten()</code>是对多维数据的降维函数。默认缺省参数为0，也就是说<code>flatten()</code>和<code>flatte(0)</code>效果一样。</p><p><code>flatten(dim)</code>：从第<code>dim</code>个维度开始展开，将后面的维度转化为一维。也就是说，只保留<code>dim</code>之前的维度，其他维度的数据全都挤在dim这一维。比如一个数据的维度是<code>(S0,S1,S2.........,Sn)</code>， <code>flatten(m)</code>后的数据为 <code>(S0，S1，S2，...，Sm-2，Sm-1，Sm*Sm+1*Sm+2*...*Sn)</code></p><p>比如，随机定义一个维度为<code>（2，3，4）</code>的数据<code>a</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line">a = torch.rand(<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">Out:  </span><br><span class="line">    tensor([[[<span class="number">0.1637</span>, <span class="number">0.1697</span>, <span class="number">0.6361</span>, <span class="number">0.9203</span>],</span><br><span class="line">         [<span class="number">0.0429</span>, <span class="number">0.9940</span>, <span class="number">0.4867</span>, <span class="number">0.3866</span>],</span><br><span class="line">         [<span class="number">0.5055</span>, <span class="number">0.4643</span>, <span class="number">0.9237</span>, <span class="number">0.0177</span>]],</span><br><span class="line"></span><br><span class="line">        [[<span class="number">0.8778</span>, <span class="number">0.7916</span>, <span class="number">0.9351</span>, <span class="number">0.6965</span>],</span><br><span class="line">         [<span class="number">0.9180</span>, <span class="number">0.2108</span>, <span class="number">0.0015</span>, <span class="number">0.7180</span>],</span><br><span class="line">         [<span class="number">0.8658</span>, <span class="number">0.5480</span>, <span class="number">0.6119</span>, <span class="number">0.6168</span>]]])</span><br></pre></td></tr></table></figure><p><code>flatten()</code>和<code>flatten(0)</code>效果一样，a这个数据从0维展开，即<code>（2 ∗ 3 ∗ 4 ）</code>，维度就是<code>(24)</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">b = a.flatten()</span><br><span class="line">c = a.flatten(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">Out:</span><br><span class="line">    tensor([<span class="number">0.1637</span>, <span class="number">0.1697</span>, <span class="number">0.6361</span>, <span class="number">0.9203</span>, <span class="number">0.0429</span>, <span class="number">0.9940</span>, <span class="number">0.4867</span>, <span class="number">0.3866</span>, <span class="number">0.5055</span>,</span><br><span class="line">        <span class="number">0.4643</span>, <span class="number">0.9237</span>, <span class="number">0.0177</span>, <span class="number">0.8778</span>, <span class="number">0.7916</span>, <span class="number">0.9351</span>, <span class="number">0.6965</span>, <span class="number">0.9180</span>, <span class="number">0.2108</span>,</span><br><span class="line">        <span class="number">0.0015</span>, <span class="number">0.7180</span>, <span class="number">0.8658</span>, <span class="number">0.5480</span>, <span class="number">0.6119</span>, <span class="number">0.6168</span>])</span><br></pre></td></tr></table></figure><p>同理，<code>a</code>从1维展开<code>flatten(1)</code>，就是<code>( 2 , 3 ∗ 4 )</code>，也就是<code>（2，12）</code></p><br><h2 id="五-模块"><a href="#五-模块" class="headerlink" title="五 模块"></a>五 模块</h2><h3 id="1、random模块"><a href="#1、random模块" class="headerlink" title="1、random模块"></a>1、random模块</h3><blockquote><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44842318/article/details/129615388">Python随机数生成（一）：random模块</a></p><p>在Python中随机数生成主要有两种途径：</p><ul><li>利用<code>random</code>模块生成</li><li>利用<code>numpy</code>库中<code>random</code>函数生成</li><li><code>scipy.stats</code>模块也可以生成随机数和特定分布的随机数</li></ul><p>在我们日常使用中，如果是为了得到随机的单个数，多考虑random模块；如果是为了得到随机小数或者整数的矩阵，就多考虑numpy中的random函数</p></blockquote><h4 id="1-1-从指定序列中生成随机数"><a href="#1-1-从指定序列中生成随机数" class="headerlink" title="1.1 从指定序列中生成随机数"></a>1.1 从指定序列中生成随机数</h4><h5 id="④-random-shuffle-seq"><a href="#④-random-shuffle-seq" class="headerlink" title="④ random.shuffle(seq)"></a>④ random.shuffle(seq)</h5><p><strong>功能：</strong> 将序列seq中的元素随机排序。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line">a = [<span class="string">&#x27;小红&#x27;</span>,<span class="string">&#x27;小兰&#x27;</span>,<span class="string">&#x27;小王&#x27;</span>,<span class="string">&#x27;小张&#x27;</span>,<span class="string">&#x27;小梁&#x27;</span>]</span><br><span class="line">random.shuffle(a) <span class="comment"># 打乱这个操作不需要重新定义对象，它作用的是对象本身</span></span><br><span class="line"><span class="comment"># 输出：[&#x27;小兰&#x27;, &#x27;小王&#x27;, &#x27;小红&#x27;, &#x27;小梁&#x27;, &#x27;小张&#x27;]</span></span><br></pre></td></tr></table></figure><h3 id="2、Matplotlib"><a href="#2、Matplotlib" class="headerlink" title="2、Matplotlib"></a>2、Matplotlib</h3><blockquote><p><a target="_blank" rel="noopener" href="https://matplotlib.org/3.2.0/index.html">官网</a></p><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44634704/article/details/126269614">Python –Matplotlib详解</a> 【较入门】</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#安装</span></span><br><span class="line">pip install matplotlib</span><br><span class="line"><span class="comment">#导包</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br></pre></td></tr></table></figure><h4 id="2-1-入门基础"><a href="#2-1-入门基础" class="headerlink" title="2.1 入门基础"></a>2.1 入门基础</h4><h5 id="2-1-1-绘制散点图"><a href="#2-1-1-绘制散点图" class="headerlink" title="2.1.1 绘制散点图"></a>2.1.1 绘制散点图</h5><p>如果输入的是两个列表，一个表示 x 轴的值，一个表示 y 轴的值，那么就可以在直角坐标系中划出很多个点，然后将这些点用指定的线段连接起来就得到了散点图。</p><p>可以使用 plt.plot(x, y, 风格) 来达到目的，其中的风格有很多种，如点状、小叉、圆圈、不同颜色等。</p><figure class="highlight gml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">import matplotlib.pyplot as plt</span><br><span class="line"><span class="variable language_">x</span> = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="variable language_">y</span> = [<span class="number">2</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">6</span>]</span><br><span class="line">y1 = [e+<span class="number">1</span> <span class="keyword">for</span> e in <span class="variable language_">y</span>]</span><br><span class="line">y2 = [e+<span class="number">2</span> <span class="keyword">for</span> e in <span class="variable language_">y</span>]</span><br><span class="line">plt.plot(<span class="variable language_">x</span>, <span class="variable language_">y</span>, <span class="string">&quot;b.&quot;</span>)                  # b：蓝色，.：点</span><br><span class="line">plt.plot(<span class="variable language_">x</span>, y1, <span class="string">&quot;ro&quot;</span>)                  # r：红色，o：圆圈</span><br><span class="line">plt.plot(<span class="variable language_">x</span>, y2, <span class="string">&quot;kx&quot;</span>)                 # k：黑色，<span class="variable language_">x</span>：<span class="variable language_">x</span>字符(小叉)</span><br><span class="line">plt.show()                            # 在窗口显示该图片</span><br></pre></td></tr></table></figure><p>python绘制子图技巧——plt.subplot和plt.subplots、及坐标轴修改</p><p>绘制子图</p><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/m0_67392010/article/details/125241307">https://blog.csdn.net/m0_67392010/article/details/125241307</a></p><br><h2 id="六-输入输出"><a href="#六-输入输出" class="headerlink" title="六 输入输出"></a>六 输入输出</h2><h3 id="1、文件写入"><a href="#1、文件写入" class="headerlink" title="1、文件写入"></a>1、文件写入</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fileName=<span class="string">&#x27;notebook.txt&#x27;</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(fileName,<span class="string">&#x27;w&#x27;</span>)<span class="keyword">as</span> file:</span><br><span class="line">        file.write(<span class="string">&#x27;average&#x27;</span>)</span><br></pre></td></tr></table></figure><blockquote><p>w:写入模式，每次会清空之前的内容，重新写入</p><p>r:只读模式</p><p>a:附件模式，写入人模式，不清空之前的内容，直接在文件结尾附加</p><p>r+:读+写，但不创建文件</p></blockquote><br><h2 id="七-错误与异常"><a href="#七-错误与异常" class="headerlink" title="七 错误与异常"></a>七 <a target="_blank" rel="noopener" href="https://www.runoob.com/python3/python3-errors-execptions.html">错误与异常</a></h2><p><strong>语法错误</strong>：Python 的语法错误或者称之为解析错，是初学者经常碰到的，如下实例</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">while</span> <span class="literal">True</span> <span class="built_in">print</span>(<span class="string">&#x27;Hello world&#x27;</span>)</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> ?</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span> <span class="built_in">print</span>(<span class="string">&#x27;Hello world&#x27;</span>)</span><br><span class="line">                   ^</span><br><span class="line">SyntaxError: invalid syntax</span><br></pre></td></tr></table></figure><p>这个例子中，函数 <code>print()</code> 被检查到有错误，是它前面缺少了一个冒号 <strong>:</strong> 。</p><p>语法分析器指出了出错的一行，并且在最先找到的错误的位置标记了一个小小的箭头。</p><p><strong>异常</strong>：即便 Python 程序的语法是正确的，在运行它的时候，也有可能发生错误。运行期检测到的错误被称为异常。大多数的异常都不会被程序处理，都以错误信息的形式展现在这里。</p><p>异常以不同的类型出现，这些类型都作为信息的一部分打印出来：例子中的类型有 ZeroDivisionError，NameError 和 TypeError。</p><p>错误信息的前面部分显示了异常发生的上下文，并以调用栈的形式显示具体信息。</p><h3 id="1、异常处理：try"><a href="#1、异常处理：try" class="headerlink" title="1、异常处理：try"></a>1、异常处理：try</h3><h4 id="1-1-try-except"><a href="#1-1-try-except" class="headerlink" title="1.1 try/except"></a>1.1 try/except</h4><p>异常捕捉可以使用 <strong>try/except</strong> 语句。</p><p><img src="./7-1.png"></p><p>以下例子中，让用户输入一个合法的整数，但是允许用户中断这个程序（使用 Control-C 或者操作系统提供的方法）。用户中断的信息会引发一个 KeyboardInterrupt 异常。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        x = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&quot;请输入一个数字: &quot;</span>))</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">except</span> ValueError:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;您输入的不是数字，请再次尝试输入！&quot;</span>)</span><br></pre></td></tr></table></figure><p>try 语句按照如下方式工作；</p><ul><li>首先，执行 try 子句（在关键字 try 和关键字 except 之间的语句）。</li><li>如果没有异常发生，忽略 except 子句，try 子句执行后结束。</li><li>如果在执行 try 子句的过程中发生了异常，那么 try 子句余下的部分将被忽略。如果异常的类型和 except 之后的名称相符，那么对应的 except 子句将被执行。</li><li>如果一个异常没有与任何的 except 匹配，那么这个异常将会传递给上层的 try 中。</li></ul><p>一个 try 语句可能包含多个except子句，分别来处理不同的特定的异常。最多只有一个分支会被执行。</p><p>处理程序将只针对对应的 try 子句中的异常进行处理，而不是其他的 try 的处理程序中的异常。</p><p>一个except子句可以同时处理多个异常，这些异常将被放在一个括号里成为一个元组，例如:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">except</span> (RuntimeError, TypeError, NameError):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure><p>最后一个except子句可以忽略异常的名称，它将被当作通配符使用。你可以使用这种方法打印一个错误信息，然后再次把异常抛出。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    f = <span class="built_in">open</span>(<span class="string">&#x27;myfile.txt&#x27;</span>)</span><br><span class="line">    s = f.readline()</span><br><span class="line">    i = <span class="built_in">int</span>(s.strip())</span><br><span class="line"><span class="keyword">except</span> OSError <span class="keyword">as</span> err:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;OS error: &#123;0&#125;&quot;</span>.<span class="built_in">format</span>(err))</span><br><span class="line"><span class="keyword">except</span> ValueError:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Could not convert data to an integer.&quot;</span>)</span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Unexpected error:&quot;</span>, sys.exc_info()[<span class="number">0</span>])</span><br><span class="line">    <span class="keyword">raise</span></span><br></pre></td></tr></table></figure><h4 id="1-2-try-except…else"><a href="#1-2-try-except…else" class="headerlink" title="1.2 try/except…else"></a>1.2 try/except…else</h4><p><strong>try/except</strong> 语句还有一个可选的 <strong>else</strong> 子句，如果使用这个子句，那么必须放在所有的 except 子句之后。</p><p>else 子句将在 try 子句没有发生任何异常的时候执行。</p><p><img src="./7-2.png"></p><p>以下实例在 try 语句中判断文件是否可以打开，如果打开文件时正常的没有发生异常则执行 else 部分的语句，读取文件内容：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> arg <span class="keyword">in</span> sys.argv[<span class="number">1</span>:]:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        f = <span class="built_in">open</span>(arg, <span class="string">&#x27;r&#x27;</span>)</span><br><span class="line">    <span class="keyword">except</span> IOError:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;cannot open&#x27;</span>, arg)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(arg, <span class="string">&#x27;has&#x27;</span>, <span class="built_in">len</span>(f.readlines()), <span class="string">&#x27;lines&#x27;</span>)</span><br><span class="line">        f.close()</span><br></pre></td></tr></table></figure><p>使用 else 子句比把所有的语句都放在 try 子句里面要好，这样可以避免一些意想不到，而 except 又无法捕获的异常。</p><p>异常处理并不仅仅处理那些直接发生在 try 子句中的异常，而且还能处理子句中调用的函数（甚至间接调用的函数）里抛出的异常。例如:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">def</span> <span class="title function_">this_fails</span>():</span><br><span class="line">        x = <span class="number">1</span>/<span class="number">0</span></span><br><span class="line">   </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">try</span>:</span><br><span class="line">        this_fails()</span><br><span class="line">    <span class="keyword">except</span> ZeroDivisionError <span class="keyword">as</span> err:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;Handling run-time error:&#x27;</span>, err)</span><br><span class="line">   </span><br><span class="line">Handling run-time error: <span class="built_in">int</span> division <span class="keyword">or</span> modulo by zero</span><br></pre></td></tr></table></figure><h4 id="1-3-try-finally-语句"><a href="#1-3-try-finally-语句" class="headerlink" title="1.3 try-finally 语句"></a>1.3 try-finally 语句</h4><p>try-finally 语句无论是否发生异常都将执行最后的代码。</p><p><img src="./7-3.png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    runoob()</span><br><span class="line"><span class="keyword">except</span> AssertionError <span class="keyword">as</span> error:</span><br><span class="line">    <span class="built_in">print</span>(error)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;file.log&#x27;</span>) <span class="keyword">as</span> file:</span><br><span class="line">            read_data = file.read()</span><br><span class="line">    <span class="keyword">except</span> FileNotFoundError <span class="keyword">as</span> fnf_error:</span><br><span class="line">        <span class="built_in">print</span>(fnf_error)</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;这句话，无论异常是否发生都会执行。&#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="2、抛出异常"><a href="#2、抛出异常" class="headerlink" title="2、抛出异常"></a>2、抛出异常</h3><p>Python 使用 raise 语句抛出一个指定的异常。</p><p>raise语法格式如下：<code>raise [Exception [, args [, traceback]]]</code></p><p><img src="./7-4.png"></p><p>以下实例如果 x 大于 5 就触发异常:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="number">10</span></span><br><span class="line"><span class="keyword">if</span> x &gt; <span class="number">5</span>:</span><br><span class="line">    <span class="keyword">raise</span> Exception(<span class="string">&#x27;x 不能大于 5。x 的值为: &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(x))</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 执行后：</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;test.py&quot;</span>, line <span class="number">3</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    <span class="keyword">raise</span> Exception(<span class="string">&#x27;x 不能大于 5。x 的值为: &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(x))</span><br><span class="line">Exception: x 不能大于 <span class="number">5</span>。x 的值为: <span class="number">10</span></span><br></pre></td></tr></table></figure><p>raise 唯一的一个参数指定了要被抛出的异常。它必须是一个异常的实例或者是异常的类（也就是 Exception 的子类）。</p><p>如果你只想知道这是否抛出了一个异常，并不想去处理它，那么一个简单的 raise 语句就可以再次把它抛出。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">raise</span> NameError(<span class="string">&#x27;HiThere&#x27;</span>)  <span class="comment"># 模拟一个异常。</span></span><br><span class="line">    <span class="keyword">except</span> NameError:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;An exception flew by!&#x27;</span>)</span><br><span class="line">        <span class="keyword">raise</span></span><br><span class="line">   </span><br><span class="line">An exception flew by!</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">2</span>, <span class="keyword">in</span> ?</span><br><span class="line">NameError: HiThere</span><br></pre></td></tr></table></figure><h3 id="3、用户自定义异常"><a href="#3、用户自定义异常" class="headerlink" title="3、用户自定义异常"></a>3、用户自定义异常</h3><p>你可以通过创建一个新的异常类来拥有自己的异常。异常类继承自 Exception 类，可以直接继承，或者间接继承，例如:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">class</span> <span class="title class_">MyError</span>(<span class="title class_ inherited__">Exception</span>):</span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, value</span>):</span><br><span class="line">            <span class="variable language_">self</span>.value = value</span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">__str__</span>(<span class="params">self</span>):</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">repr</span>(<span class="variable language_">self</span>.value)</span><br><span class="line">   </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">raise</span> MyError(<span class="number">2</span>*<span class="number">2</span>)</span><br><span class="line">    <span class="keyword">except</span> MyError <span class="keyword">as</span> e:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;My exception occurred, value:&#x27;</span>, e.value)</span><br><span class="line">   </span><br><span class="line">My exception occurred, value: <span class="number">4</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">raise</span> MyError(<span class="string">&#x27;oops!&#x27;</span>)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> ?</span><br><span class="line">__main__.MyError: <span class="string">&#x27;oops!&#x27;</span></span><br></pre></td></tr></table></figure><p>在这个例子中，类 Exception 默认的 <strong>init</strong>() 被覆盖。</p><p>当创建一个模块有可能抛出多种不同的异常时，一种通常的做法是为这个包建立一个基础异常类，然后基于这个基础类为不同的错误情况创建不同的子类:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Error</span>(<span class="title class_ inherited__">Exception</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Base class for exceptions in this module.&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">InputError</span>(<span class="title class_ inherited__">Error</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Exception raised for errors in the input.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Attributes:</span></span><br><span class="line"><span class="string">        expression -- input expression in which the error occurred</span></span><br><span class="line"><span class="string">        message -- explanation of the error</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, expression, message</span>):</span><br><span class="line">        <span class="variable language_">self</span>.expression = expression</span><br><span class="line">        <span class="variable language_">self</span>.message = message</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TransitionError</span>(<span class="title class_ inherited__">Error</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Raised when an operation attempts a state transition that&#x27;s not</span></span><br><span class="line"><span class="string">    allowed.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Attributes:</span></span><br><span class="line"><span class="string">        previous -- state at beginning of transition</span></span><br><span class="line"><span class="string">        next -- attempted new state</span></span><br><span class="line"><span class="string">        message -- explanation of why the specific transition is not allowed</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, previous, <span class="built_in">next</span>, message</span>):</span><br><span class="line">        <span class="variable language_">self</span>.previous = previous</span><br><span class="line">        <span class="variable language_">self</span>.<span class="built_in">next</span> = <span class="built_in">next</span></span><br><span class="line">        <span class="variable language_">self</span>.message = message</span><br></pre></td></tr></table></figure><p>大多数的异常的名字都以”Error”结尾，就跟标准的异常命名一样。</p><h3 id="4、定义清理行为"><a href="#4、定义清理行为" class="headerlink" title="4、定义清理行为"></a>4、定义清理行为</h3><h3 id="5、预定义的清理行为"><a href="#5、预定义的清理行为" class="headerlink" title="5、预定义的清理行为"></a>5、预定义的清理行为</h3><h3 id="6、Python-assert-断言"><a href="#6、Python-assert-断言" class="headerlink" title="6、Python assert 断言"></a>6、Python assert 断言</h3><p>Python assert（断言）用于判断一个表达式，在表达式条件为 false 的时候触发异常。</p><p>断言可以在条件不满足程序运行的情况下直接返回错误，而不必等待程序运行后出现崩溃的情况，例如我们的代码只能在 Linux 系统下运行，可以先判断当前系统是否符合条件。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 语法格式如下：</span></span><br><span class="line"><span class="keyword">assert</span> expression</span><br><span class="line"></span><br><span class="line"><span class="comment"># 等价于：</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> expression:</span><br><span class="line">    <span class="keyword">raise</span> AssertionError</span><br><span class="line">    </span><br><span class="line"><span class="comment"># assert 后面也可以紧跟参数:</span></span><br><span class="line"><span class="keyword">assert</span> expression [, arguments]</span><br><span class="line"></span><br><span class="line"><span class="comment">#等价于：</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> expression:</span><br><span class="line">    <span class="keyword">raise</span> AssertionError(arguments)</span><br></pre></td></tr></table></figure><p>以下为 assert 使用实例：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">assert</span> <span class="literal">True</span>     <span class="comment"># 条件为 true 正常执行</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">assert</span> <span class="literal">False</span>    <span class="comment"># 条件为 false 触发异常</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">AssertionError</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">assert</span> <span class="number">1</span>==<span class="number">1</span>    <span class="comment"># 条件为 true 正常执行</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">assert</span> <span class="number">1</span>==<span class="number">2</span>    <span class="comment"># 条件为 false 触发异常</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">AssertionError</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">assert</span> <span class="number">1</span>==<span class="number">2</span>, <span class="string">&#x27;1 不等于 2&#x27;</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">AssertionError: <span class="number">1</span> 不等于 <span class="number">2</span></span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure><p>以下实例判断当前系统是否为 Linux，如果不满足条件则直接触发异常，不必执行接下来的代码：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">assert</span> (<span class="string">&#x27;linux&#x27;</span> <span class="keyword">in</span> sys.platform), <span class="string">&quot;该代码只能在 Linux 下执行&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 接下来要执行的代码</span></span><br></pre></td></tr></table></figure><h3 id="7、Python-with-关键字"><a href="#7、Python-with-关键字" class="headerlink" title="7、Python with 关键字"></a>7、Python with 关键字</h3><p>Python 中的 <strong>with</strong> 语句用于异常处理，封装了 <strong>try…except…finally</strong> 编码范式，提高了易用性。</p><p><strong>with</strong> 语句使代码更清晰、更具可读性， 它简化了文件流等公共资源的管理。</p><p>在处理文件对象时使用 with 关键字是一种很好的做法。</p><p><strong>实例</strong>：不使用 <strong>with</strong>，也不使用 <strong>try…except…finally</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">file = <span class="built_in">open</span>(<span class="string">&#x27;./test_runoob.txt&#x27;</span>, <span class="string">&#x27;w&#x27;</span>)</span><br><span class="line">file.write(<span class="string">&#x27;hello world !&#x27;</span>)</span><br><span class="line">file.close()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 以上代码如果在调用 write 的过程中，出现了异常，则 close 方法将无法被执行</span></span><br><span class="line"><span class="comment"># 因此资源就会一直被该程序占用而无法被释放</span></span><br><span class="line"><span class="comment"># 接下来我们呢可以使用 try…except…finally 来改进代码：</span></span><br><span class="line"></span><br><span class="line">file = <span class="built_in">open</span>(<span class="string">&#x27;./test_runoob.txt&#x27;</span>, <span class="string">&#x27;w&#x27;</span>)</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    file.write(<span class="string">&#x27;hello world&#x27;</span>)</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    file.close()</span><br><span class="line"><span class="comment">#以上代码我们对可能发生异常的代码处进行 try 捕获，发生异常时执行 except 代码块，finally 代码块是无论什么情况都会执行，所以文件会被关闭，不会因为执行异常而占用资源。</span></span><br></pre></td></tr></table></figure><p>使用 <strong>with</strong> 关键字：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;./test_runoob.txt&#x27;</span>, <span class="string">&#x27;w&#x27;</span>) <span class="keyword">as</span> file:</span><br><span class="line">    file.write(<span class="string">&#x27;hello world !&#x27;</span>)</span><br></pre></td></tr></table></figure><p>使用 <strong>with</strong> 关键字系统会自动调用 f.close() 方法， with 的作用等效于 try/finally 语句是一样的。</p><p>我们可以在执行 with 关键字后检验文件是否关闭：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;./test_runoob.txt&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line"><span class="meta">... </span>    read_data = f.read()</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="comment"># 查看文件是否关闭</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f.closed</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure><p>with 语句实现原理建立在上下文管理器之上。</p><p>上下文管理器是一个实现 <strong><strong>enter</strong></strong> 和 <strong><strong>exit</strong></strong> 方法的类。</p><p>使用 with 语句确保在嵌套块的末尾调用 <strong>exit</strong> 方法。</p><p>这个概念类似于 try…finally 块的使用。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;./test_runoob.txt&#x27;</span>, <span class="string">&#x27;w&#x27;</span>) <span class="keyword">as</span> my_file:</span><br><span class="line">    my_file.write(<span class="string">&#x27;hello world!&#x27;</span>)</span><br></pre></td></tr></table></figure><p>以上实例将 <strong>hello world!</strong> 写到 ./test_runoob.txt 文件上。</p><p>在文件对象中定义了 <strong>enter</strong> 和 <strong>exit</strong> 方法，即文件对象也实现了上下文管理器，首先调用 <strong>enter</strong> 方法，然后执行 with 语句中的代码，最后调用 <strong>exit</strong> 方法。 即使出现错误，也会调用 <strong>exit</strong> 方法，也就是会关闭文件流。</p><br><h2 id="八-Python-Pandas包"><a href="#八-Python-Pandas包" class="headerlink" title="八 Python Pandas包"></a>八 Python Pandas包</h2><blockquote><p>参考：<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/627952083?utm_id=0">数据处理必备工具之 Pandas</a></p></blockquote><h3 id="1-引言"><a href="#1-引言" class="headerlink" title="1 引言"></a>1 引言</h3><p>如果我们需要通过 Python 程序进行一些数学运算，标准库中的 math 库就可以胜任，但是当我们面对的是一个包含多种数据类型的大规模数据集时，就需要用更多的数据结构和数据操作方法来处理该数据集，此时 Python 中的第三方库 Pandas 的实用价值就凸显出来了。</p><p>它的功能非常强大，不仅可以用于数据处理，还可以对数据进行统计分析和可视化。在数据处理方面，Pandas 提供了许多实用的功能，比如可以使用 Pandas 从 csv、Excel、数据库等多种数据源中读取数据，除此以外，Pandas 的数据处理非常完备，下面列举了常用的几个功能：</p><ul><li>合并多个文件的数据，或者将数据拆分为多个独立文件</li><li>建立高效的索引，灵活地查询、筛选数据</li><li>对数据进行去重、填充、删除、替换、转换等操作</li></ul><blockquote><p>实际上 Pandas 和熊猫无关，它来自于计量经济学中的术语“面板数据”（Panel data）。</p><p>Pandas 是由 Wes McKinney 在 2008 年开发的，McKinney 当时是一家纽约金融服务机构的金融分析师 ，他在自己的工作中遇到了一些数据操作问题，当时 Python 中已经有了 Numpy 这样在处理大规模数据方面有着不错表现的库，但是对于表格等结构化数据而言，Numpy 并不能完全胜任。于是 McKinney 开始着手研究一套解决方案，<strong>目的是为了在 Python 中提供一种更便捷的方式来处理结构化数据</strong>，最终 Pandas 就被开发出来了。</p></blockquote><p>刚才我们提到了 Python 中的 Numpy 库，这个库的主要用途是以数组的形式进行数据操作和数学运算。实际上 Pandas 是以 Numpy 为基础设计的，<strong>Pandas 中 DataFrame 和 Series（下文介绍）这两种数据结构是利用了 Numpy 数组作为底层结构的</strong>，这也使得 Pandas 数据处理更加高效，同时基于这种数据结构，Pandas 也为 Numpy 的不足之处进行了一些改进，Pandas 比 Numpy <strong>支持更多的数据类型，在数据处理中更加灵活</strong>。虽然 Pandas 是依赖于 Numpy 的，但是这不意味着必须要先掌握 Numpy 的功能，我们直接使用 Pandas 即可，在学习过程中有需要再补充相关内容。</p><br><h3 id="2-Pandas-的数据结构"><a href="#2-Pandas-的数据结构" class="headerlink" title="2 Pandas 的数据结构"></a>2 Pandas 的数据结构</h3><blockquote><p>数据结构指的是<strong>组织数据、储存数据的方式</strong>，数据结构的选择直接影响了数据的处理效率和数据操作的灵活性。</p><p>我们日常接触最多的结构是数组（类似于序列），数组是由相同类型元素的集合组成，对每一个元素分配一个存储空间，并且每个空间会有一个索引（下文介绍）来标识元素的存储位置，我们可以通过索引来访问元素。实际数据往往是由多个数组组成，它们共用同一个行索引，组成了一个二维数组，这类似于 Excel 表格中用字母表示一列，用数字表示行号，这样就可以确定元素的具体位置。</p></blockquote><p>数组中的元素可以是任何类型的数据，包括整数型、浮点数型、布尔型等等。但是<strong>数组中所有元素的数据类型必须是一致的（在 Numpy 中，通常是将类型强制转换为一致的类型后进行存储）</strong>，这是因为数组需要先为所有元素在内存中分配相同的空间大小，以保证数据存储的连续性和高效性。</p><p>Pandas 提供了 Series 和 DataFrame 作为数组数据的存储框架，当数据以这两种结构存储后，我们就可以利用它们提供的强大功能对数据进行处理。下面具体来看这两种数据结构：</p><h4 id="2-1-Series"><a href="#2-1-Series" class="headerlink" title="2.1 Series"></a>2.1 Series</h4><p>Series 是 Pandas 最基础的数据结构。通俗来说，<strong>Series 是一种类似于一维数组的数据结构，其中每个元素都带有一个标签（下文统称为“索引”）</strong>，下面我们来看一个简单的 Series。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd  <span class="comment"># 导入 pandas 模块，约定俗成，起别名为 pd</span></span><br><span class="line"><span class="comment"># 创建一个 Series，并且自定义数据索引</span></span><br><span class="line">pd.Series([<span class="number">4010.4</span>, <span class="number">2318.02</span>, <span class="number">3873.16</span>], index=[<span class="string">&#x27;北京&#x27;</span>, <span class="string">&#x27;天津&#x27;</span>, <span class="string">&#x27;河北&#x27;</span>])</span><br></pre></td></tr></table></figure><p>在 Pandas 中使用<code>pd.Series()</code>函数来创建 Series，其中的参数<code>index</code>用于自定义数据的索引。创建的 Series 结果如下</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">北京   4010.4</span><br><span class="line">天津   2318.02</span><br><span class="line">河北   3873.16</span><br><span class="line">dtype: float64</span><br></pre></td></tr></table></figure><p>这个 Series 是 2019 年地区的采矿业的资产总计，第一列是 Series 的索引，它起到解释、定位数据的作用（如果不指定索引，默认从 0 开始编号），第二列是 Series 的值，最后一行<code>dtype:float64</code>表明该 Series 的类型统一为<code>float64</code>，表示占用 64 位（8字节）内存空间的双精度小数。</p><p>除了使用<code>参数index</code>，我们<strong>还可以使用字典直接创建带有自定义索引的数据</strong>，Pandas 会将字典的键作为索引，值作为对应的数据，得到的结果和上图一样，代码如下。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.Series(&#123;<span class="string">&#x27;北京&#x27;</span>:<span class="number">4010.4</span>, <span class="string">&#x27;天津&#x27;</span>:<span class="number">2318.02</span>, <span class="string">&#x27;河北&#x27;</span>:<span class="number">3873.16</span>&#125;)</span><br></pre></td></tr></table></figure><p>如果我们想要访问 Series 中的数据呢？这一点很简单，类似于 Python 中访问列表和字典元素的方式，只需要使用中括号加数据索引（<code>[数据索引]</code>）就可以实现，比如我们想要查看 2019 年河北省的资产总计，实现的代码如下。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将创建的 Series 赋值给变量 Value</span></span><br><span class="line">Value = pd.Series(&#123;<span class="string">&#x27;北京&#x27;</span>:<span class="number">4010.4</span>, <span class="string">&#x27;天津&#x27;</span>:<span class="number">2318.02</span>, <span class="string">&#x27;河北&#x27;</span>:<span class="number">3873.16</span>&#125;)</span><br><span class="line">Value[<span class="string">&#x27;河北&#x27;</span>]  <span class="comment"># 输出：3873.16</span></span><br></pre></td></tr></table></figure><p>可以看到无论是创建一个 Series 还是访问其中的元素时，都使用到了索引（index），实际在 Pandas 中索引是一个很重要的工具，索引相当于是一本书的书签，可以帮助我们快速找到想要查看的内容，<strong>通过索引我们不仅可以快速定位数据，还可以从 DataFrame 中选择特定的行数和列数等等</strong>。但是需要注意一点，<strong>在不同的场景中索引可能被称为其他名称</strong>，需要灵活理解和掌握，比如在二维数据结构中有行索引和列索引，行索引通常指的是每一行的索引，而列索引也被称为字段名、表头等。</p><h4 id="2-2-DataFrame"><a href="#2-2-DataFrame" class="headerlink" title="2.2 DataFrame"></a>2.2 DataFrame</h4><p>实际中的数据大多是以二维表的形式存在的，类似于 Excel 的表格数据。在 Pandas 中二维数据是存储在 DataFrame 数据结构中的，换句话说，DataFrame（也称为“数据框”）其实就是一个<code>m行 × n列</code>的二维数据，下面我们创建一个 DataFrame，具体来看一下它的结构。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建一个5行、5列的 DataFrame，赋值给变量 Data</span></span><br><span class="line">data_list = [[<span class="string">&#x27;110000&#x27;</span>,<span class="string">&#x27;北京&#x27;</span>, <span class="number">4010.4</span>, <span class="number">707.21</span>, <span class="number">1057.87</span>],</span><br><span class="line">             [<span class="string">&#x27;120000&#x27;</span>, <span class="string">&#x27;天津&#x27;</span>, <span class="number">2318.02</span>, <span class="number">1423.45</span>, <span class="number">4051.2</span>],</span><br><span class="line">             [<span class="string">&#x27;130000&#x27;</span>, <span class="string">&#x27;河北&#x27;</span>, <span class="number">3873.16</span>, <span class="number">1073.04</span>, <span class="number">2676.77</span>],</span><br><span class="line">             [<span class="string">&#x27;140000&#x27;</span>, <span class="string">&#x27;山西&#x27;</span>, <span class="number">26229.57</span>, <span class="number">5951.44</span>, <span class="number">10415.53</span>],</span><br><span class="line">             [<span class="string">&#x27;150000&#x27;</span>, <span class="string">&#x27;内蒙古&#x27;</span>, <span class="number">9945.73</span>, <span class="number">3029.35</span>, <span class="number">5764.29</span>]]</span><br><span class="line">Data = pd.DataFrame(data_list, columns=[<span class="string">&#x27;省份代码&#x27;</span>, <span class="string">&#x27;省份名称&#x27;</span>, <span class="string">&#x27;资产总计&#x27;</span>, <span class="string">&#x27;固定资产净额&#x27;</span>, <span class="string">&#x27;固定资产原价&#x27;</span>])</span><br><span class="line">Data <span class="comment"># 查看结果</span></span><br></pre></td></tr></table></figure><p><img src="./8-1.png"></p><p>在 Pandas 中使用<code>pd.DataFrame()</code>函数来创建 DataFrame，我们在上面的代码中通过<code>参数columns</code>来指定数据框的列索引（也称为“字段名”或“列名”），上图最左侧一列为 Data 的行索引，默认是从 0 开始的自然数，也可以通过<code>pd.DataFrame()</code>函数中的<code>参数index</code>自定义索引值。</p><p>同时，在创建 Data 时我们使用的是一个列表 data_list，不难发现，这个嵌套列表中每一个子列表为 DataFrame 的一行，这和创建 Series 时类似，实际上 <strong>DataFrame 的每一行或者每一列都可以看作一个 Series</strong>，比如我们想查看“省份名称”这列数据，只需要通过代码<code>Data[字段名]</code>就可以实现，结果如下。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Data[<span class="string">&#x27;省份名称&#x27;</span>]</span><br></pre></td></tr></table></figure><p><img src="./8-2.png"></p><p>可以看到这就是一个由索引和对应数据构成的 Series，并且这个Series 使用的索引是 DataFrame 的行索引，所以 <strong>DataFrame 本质上可以看作由多个一维 Series 构成的二维数据</strong>，两者的关系可以通过下图来理解：</p><p><img src="./8-3.png"></p><p>同理，DataFrame 的每一行也可以被视作一个 Series，这个 Series 的索引就是 DataFrame 的列索引（字段名）。示例如下。</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Data.loc[2]    # 得到 Data 的第二行</span><br></pre></td></tr></table></figure><p><img src="./8-4.png"></p><p>现在我们已经对 DataFrame 的结构有了初步的了解，下面再来看看创建 DataFrame 的方法。在 Pandas 中构建 DataFrame 的方法有很多，除了使用嵌套列表（多维列表），我们也经常<strong>使用字典来创建 DataFrame</strong>，使用字典生成本节中的 DataFrame 的代码如下。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用字典创建一个 DataFrame</span></span><br><span class="line">data_dict = &#123;</span><br><span class="line">    <span class="string">&#x27;省份代码&#x27;</span>:[<span class="string">&#x27;110000&#x27;</span>, <span class="string">&#x27;120000&#x27;</span>, <span class="string">&#x27;130000&#x27;</span>, <span class="string">&#x27;140000&#x27;</span>, <span class="string">&#x27;150000&#x27;</span>],</span><br><span class="line">    <span class="string">&#x27;省份名称&#x27;</span>:[<span class="string">&#x27;北京&#x27;</span>,<span class="string">&#x27;天津&#x27;</span>,<span class="string">&#x27;河北&#x27;</span>,<span class="string">&#x27;山西&#x27;</span>,<span class="string">&#x27;内蒙古&#x27;</span>],</span><br><span class="line">    <span class="string">&#x27;资产总计&#x27;</span>:[<span class="number">4010.4</span>, <span class="number">2318.02</span>, <span class="number">3873.16</span>, <span class="number">26229.57</span>, <span class="number">9945.73</span>],</span><br><span class="line">    <span class="string">&#x27;固定资产净额&#x27;</span>:[<span class="number">707.21</span>, <span class="number">1423.45</span>, <span class="number">1073.04</span>, <span class="number">5951.44</span>, <span class="number">3029.35</span>],</span><br><span class="line">    <span class="string">&#x27;固定资产原价&#x27;</span>:[<span class="number">1057.87</span>, <span class="number">4051.2</span>, <span class="number">2676.77</span>, <span class="number">10415.53</span>, <span class="number">5764.29</span>]</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># 传入等长列表组成的字典</span></span><br><span class="line">Data = pd.DataFrame(data_dict)</span><br><span class="line"><span class="comment"># 查看结果</span></span><br><span class="line">Data</span><br></pre></td></tr></table></figure><p><img src="./8-5.png"></p><p><img src="./8-6.png"></p><p><img src="./8-4.png"></p><p><img src="./8-4.png"></p><p><img src="./8-4.png"></p><br><br><br><br><br><br><br><br><br><br><br><h2 id="十-杂项"><a href="#十-杂项" class="headerlink" title="十 杂项"></a>十 杂项</h2><h3 id="1-Python环境变量相关"><a href="#1-Python环境变量相关" class="headerlink" title="1 Python环境变量相关"></a>1 Python环境变量相关</h3><p>如何找到Python的安装路径：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在Python 编辑器中</span></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">sys.path</span><br></pre></td></tr></table></figure><br><h3 id="2-查看python包的代码"><a href="#2-查看python包的代码" class="headerlink" title="2 查看python包的代码"></a>2 查看python包的代码</h3><p><strong>方法一</strong>：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> d2l <span class="keyword">import</span> torch <span class="keyword">as</span> d2l</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(d2l.__file__,<span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="built_in">print</span>(f.read())</span><br></pre></td></tr></table></figure><p><strong>方法二：jupyter专用方法</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 包名/函数名??</span></span><br><span class="line"><span class="comment"># eg:</span></span><br><span class="line">d2l??</span><br></pre></td></tr></table></figure><p><strong>方法三：通用方法（命令行、pycharm、jupyter均可使用）</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> torch.utils.data <span class="keyword">import</span> Dataset</span><br><span class="line"><span class="built_in">help</span>(Dataset)</span><br></pre></td></tr></table></figure><br><h3 id="3-Pycharm安装第三方库"><a href="#3-Pycharm安装第三方库" class="headerlink" title="3 Pycharm安装第三方库"></a>3 Pycharm安装第三方库</h3><blockquote><p>参考<a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/2121412">此处</a></p></blockquote><h4 id="方法一：利用pycharm自带功能进行安装"><a href="#方法一：利用pycharm自带功能进行安装" class="headerlink" title="方法一：利用pycharm自带功能进行安装"></a>方法一：利用pycharm自带功能进行安装</h4><p>即 <code>file -&gt; Settings -&gt; Project untitled -&gt; Project Interpreter-&gt; 点击右边加号 -&gt; 搜索期望安装的第三方库</code> ，然后 点击左下角的<code>待installing</code>完毕后便安装成功了，之后可以在搜索库的界面利用加减号管理自己的库</p><h4 id="方法二：利用pip进行安装"><a href="#方法二：利用pip进行安装" class="headerlink" title="方法二：利用pip进行安装"></a>方法二：利用pip进行安装</h4><ul><li><p>下载最新版本的python之后都会自动为我们下载pip,在python文件夹下的Scripts文件夹里面</p></li><li><p><code>pip -v</code> 查看相关信息</p></li><li><p>安装：【cmd窗口输入】 <code>pip install 包/模块名</code>，如 <code>pip install requests</code></p></li></ul><h4 id="方法三：自行下载相关whl文件"><a href="#方法三：自行下载相关whl文件" class="headerlink" title="方法三：自行下载相关whl文件"></a>方法三：自行下载相关whl文件</h4><ul><li>安装wheel：在cmd窗口运行如下语句：<code>pip install wheel</code></li><li>在此<a target="_blank" rel="noopener" href="http://www.lfd.uci.edu/~gohlke/pythonlibs/">站点</a>中下载自己需要的whl文件并解压到<code>Python/Lib/site-packages</code>中</li><li>在cmd窗口运行 <code>pip install 带.whl文件的路径</code></li></ul><br><br><br><br><h2 id="十一-Pycharm提速"><a href="#十一-Pycharm提速" class="headerlink" title="十一 Pycharm提速"></a>十一 Pycharm提速</h2><h3 id="1-Pycharm-快捷键"><a href="#1-Pycharm-快捷键" class="headerlink" title="1 Pycharm 快捷键"></a>1 Pycharm 快捷键</h3><h4 id="1-1-基本热键"><a href="#1-1-基本热键" class="headerlink" title="1.1 基本热键"></a>1.1 基本热键</h4><table><thead><tr><th>按键</th><th>作用</th><th>补充描述</th></tr></thead><tbody><tr><td>Ctrl + /</td><td>注释</td><td>单行注释</td></tr><tr><td>Ctrl + Alt + L</td><td>统一格式</td><td>即将选中的内容进行格式处理，自动修正一些格式不正确的位置</td></tr><tr><td>Ctrl + D</td><td>复制并粘贴该行</td><td></td></tr><tr><td>Ctrl + Y</td><td>删除行</td><td></td></tr><tr><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td></tr></tbody></table><br><br><br><h2 id="十二-常见报错"><a href="#十二-常见报错" class="headerlink" title="十二 常见报错"></a>十二 常见报错</h2><h3 id="1-无法读取shape属性"><a href="#1-无法读取shape属性" class="headerlink" title="1 无法读取shape属性"></a>1 <a target="_blank" rel="noopener" href="https://wenku.csdn.net/answer/bb3efc0cb6f14a2cb50dda1150918b32">无法读取shape属性</a></h3><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">AttributeError: <span class="string">&#x27;tuple&#x27;</span> <span class="keyword">object</span> has <span class="keyword">no</span> <span class="keyword">attribute</span> <span class="string">&#x27;shape&#x27;</span></span><br></pre></td></tr></table></figure><p>该错误说明正在尝试对一个元组类型的变量调用shape属性，但是元组类型并没有这个属性。【<code>tuple</code>：元组】</p><ul><li><code>shape</code>属性是<code>numpy</code>数组对象的属性，如果你想要获得一个<code>numpy</code>数组长度，可以使用<code>shape</code>属性</li><li>如果变量不是<code>numpy</code>数组，可以使用<code>Python</code>内置函数<code>len()</code>来获取变量的长度</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">my_tuple = (<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, ,<span class="number">5</span>)</span><br><span class="line">my_list = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, ,<span class="number">5</span>]</span><br><span class="line">my_str = <span class="string">&quot;hello world&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(my_tuple)) <span class="comment"># 输出5</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(my_list)) <span class="comment"># 输出5</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(my_str)) <span class="comment"># 输出11</span></span><br></pre></td></tr></table></figure><br><h3 id="2-语法错误：文件读取失败"><a href="#2-语法错误：文件读取失败" class="headerlink" title="2 语法错误：文件读取失败"></a>2 语法错误：文件读取失败</h3><figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">SyntaxError:</span> (<span class="keyword">unicode</span> <span class="keyword">error</span>) <span class="comment">&#x27;unicodeescape&#x27; codec can&#x27;t decode bytes in position 2-3: truncated \UXXXXXXXX escape</span></span><br></pre></td></tr></table></figure><p>引起这个错误的原因就是转义的问题。</p><p><strong>原因分析</strong>：在<code>windows</code>系统当中读取文件路径可以使用<code>\</code>,但是在<code>python</code>字符串中<code>\</code>有转义的含义，</p><p>如<code>\t</code>可代表TAB，<code>\n</code>代表换行，所以我们需要采取一些方式使得<code>\</code>不被解读为转义字符。目前有3个解决方案</p><ul><li>在路径前面加<code>r</code>，即保持字符原始值的意思。</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sys.path.append(<span class="string">r&#x27;c:\Users\mshacxiang\VScode_project\web_ddt&#x27;</span>)</span><br></pre></td></tr></table></figure><ul><li>替换为双反斜杠</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sys.path.append(<span class="string">&#x27;c:\\Users\\mshacxiang\\VScode_project\\web_ddt&#x27;</span>)</span><br></pre></td></tr></table></figure><ul><li>替换为正斜杠</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sys.path.append(<span class="string">&#x27;c:/Users/mshacxiang/VScode_project/web_ddt&#x27;</span>)</span><br></pre></td></tr></table></figure><br><h3 id="3-浮点转字符串错误"><a href="#3-浮点转字符串错误" class="headerlink" title="3 浮点转字符串错误"></a>3 浮点转字符串错误</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">pi = <span class="number">3.14</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;pi值=&quot;</span> + pi)</span><br><span class="line"></span><br><span class="line"><span class="comment">#类型不一样引起的问题</span></span><br><span class="line">TypeError: can only concatenate <span class="built_in">str</span> (<span class="keyword">not</span> <span class="string">&quot;float&quot;</span>) to <span class="built_in">str</span></span><br></pre></td></tr></table></figure><p><strong>方法1: 转换类型</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pi = <span class="number">3.14</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;当前的p=&quot;</span> + <span class="built_in">str</span>(pi))</span><br></pre></td></tr></table></figure><p><strong>方法2：使用字符串格式化</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pi = <span class="number">3.14</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;当前的p= %.2f&quot;</span> % pi)  <span class="comment"># %s 是格式化字浮点数并指定2为数</span></span><br></pre></td></tr></table></figure><p>python 字符串格式化符号:</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">%c     格式化字符及其ASCII码</span><br><span class="line">%s     格式化字符串</span><br><span class="line">%d     格式化整数</span><br><span class="line">%u     格式化无符号整型</span><br><span class="line">%o     格式化无符号八进制数</span><br><span class="line">%x     格式化无符号十六进制数</span><br><span class="line">%X     格式化无符号十六进制数（大写）</span><br><span class="line">%f     格式化浮点数字，可指定小数点后的精度</span><br><span class="line">%e     用科学计数法格式化浮点数</span><br><span class="line">%E     作用同%e，用科学计数法格式化浮点数</span><br><span class="line">%g     %f和%e的简写</span><br><span class="line">%G     %F 和 %E 的简写</span><br><span class="line">%p     用十六进制数格式化变量的地址</span><br></pre></td></tr></table></figure><br><h3 id="4-包安装错误"><a href="#4-包安装错误" class="headerlink" title="4 包安装错误"></a>4 包安装错误</h3><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">RemoveError: &#x27;<span class="title">requests</span>&#x27; <span class="title">is</span> <span class="title">a</span> <span class="title">dependency</span> <span class="title">of</span> <span class="title">conda</span> <span class="title">and</span> <span class="title">cannot</span> <span class="title">be</span> <span class="title">removed</span> <span class="title">from</span> <span class="title">conda</span>&#x27;<span class="title">s</span> <span class="title">operating</span> <span class="title">enviro</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"># 在下载 <span class="title">palettable</span> 包过程中，<span class="title">pycharm</span>默认适用<span class="title">conda</span>下载</span></span><br><span class="line"><span class="function"># <span class="title">palettable</span>：<span class="title">python</span>绘图着色</span></span><br></pre></td></tr></table></figure><p>这种错误出现的原因是 ：<code>requests</code> 包是用<code>pip</code> 安装的，而如果你再用<code>canda</code> 安装其他有关包时便会触发此错误，可以使用 <code>conda list</code> 查看安装包的信息</p><p><strong>解决办法：</strong></p><ul><li>使用<code>pip uninstall packagename</code> 卸载有关包，不建议使用这种，会引发其他的错误</li><li>使用 <code>pip install packagename</code> 命令安装有关包</li></ul><br><br><br><br><br><br><br><br><br><br><br><br><p>[0.0] * n = [0.0, 0.0]</p><p>assert</p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css"></div><div class="reward-container"><div></div><button onclick='var qr=document.getElementById("qr");qr.style.display="none"===qr.style.display?"block":"none"'>打赏</button><div id="qr" style="display:none"><div style="display:inline-block"><img src="/images/wechatpay.png" alt="Moustache 微信支付"><p>微信支付</p></div></div></div><div><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者： </strong>Moustache</li><li class="post-copyright-link"><strong>本文链接：</strong> <a href="https://hammerzer.github.io/2023/07/19/Python-Start/" title="Python-Start">https://hammerzer.github.io/2023/07/19/Python-Start/</a></li><li class="post-copyright-license"><strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！</li></ul></div><footer class="post-footer"><div class="post-tags"><a href="/tags/Python/" rel="tag"><i class="fa fa-tag"></i> Python</a> <a href="/tags/Deep-Learning/" rel="tag"><i class="fa fa-tag"></i> Deep Learning</a></div><div class="post-nav"><div class="post-nav-item"><a href="/2023/07/09/Introduction-to-deep-learning/" rel="prev" title="入门深度学习"><i class="fa fa-chevron-left"></i> 入门深度学习</a></div><div class="post-nav-item"><a href="/2023/07/21/Tool-Numpy/" rel="next" title="Tool-Numpy">Tool-Numpy <i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div class="comments" id="valine-comments"></div><script>window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#CONTENT-OUTLINE"><span class="nav-number">1.</span> <span class="nav-text">CONTENT OUTLINE</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E3%80%87%E3%80%81%E7%9B%AE%E5%BD%95"><span class="nav-number">2.</span> <span class="nav-text">〇、目录</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%80-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="nav-number">3.</span> <span class="nav-text">一 数据结构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%8C-%E8%AF%AD%E5%8F%A5%E7%B1%BB%E9%97%AE%E9%A2%98"><span class="nav-number">4.</span> <span class="nav-text">二 语句类问题</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%E3%80%81%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-number">4.1.</span> <span class="nav-text">1、表达式</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-1-yield%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-number">4.1.1.</span> <span class="nav-text">1.1 yield表达式</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%E3%80%81%E5%85%B3%E9%94%AE%E5%AD%97"><span class="nav-number">4.2.</span> <span class="nav-text">2、关键字</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-1-with"><span class="nav-number">4.2.1.</span> <span class="nav-text">2.1 with</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3%E3%80%81%E7%89%B9%E6%AE%8A%E8%AF%AD%E6%B3%95"><span class="nav-number">4.3.</span> <span class="nav-text">3、特殊语法</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1-f-string"><span class="nav-number">4.3.1.</span> <span class="nav-text">3.1 f-string</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-2"><span class="nav-number">4.3.2.</span> <span class="nav-text">3.2 _</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#3-2-1-%E7%94%A8%E4%BA%8E%E4%B8%B4%E6%97%B6%E5%8F%98%E9%87%8F"><span class="nav-number">4.3.2.1.</span> <span class="nav-text">3.2.1 _用于临时变量</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#1-REPL"><span class="nav-number">4.3.2.1.1.</span> <span class="nav-text">1 REPL</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#2-for%E5%BE%AA%E7%8E%AF%E4%B8%AD%E7%9A%84"><span class="nav-number">4.3.2.1.2.</span> <span class="nav-text">2 for循环中的_</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#3-%E5%85%83%E7%BB%84%E6%8B%86%E5%8C%85%E4%B8%AD%E7%9A%84"><span class="nav-number">4.3.2.1.3.</span> <span class="nav-text">3 元组拆包中的_</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#4-%E5%9B%BD%E9%99%85%E5%8C%96%E5%87%BD%E6%95%B0"><span class="nav-number">4.3.2.1.4.</span> <span class="nav-text">4 国际化函数</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#5-%E5%A4%A7%E6%95%B0%E5%AD%97%E8%A1%A8%E7%A4%BA%E5%BD%A2%E5%BC%8F"><span class="nav-number">4.3.2.1.5.</span> <span class="nav-text">5 大数字表示形式</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-2-2-var-%E7%94%A8%E4%BA%8E%E8%A7%A3%E5%86%B3%E5%91%BD%E5%90%8D%E5%86%B2%E7%AA%81%E9%97%AE%E9%A2%98"><span class="nav-number">4.3.2.2.</span> <span class="nav-text">3.2.2 var_用于解决命名冲突问题</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-2-3-var%E7%94%A8%E4%BA%8E%E4%BF%9D%E6%8A%A4%E5%8F%98%E9%87%8F"><span class="nav-number">4.3.2.3.</span> <span class="nav-text">3.2.3 _var用于保护变量</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-2-4-var%E7%94%A8%E4%BA%8E%E7%A7%81%E6%9C%89%E5%8F%98%E9%87%8F"><span class="nav-number">4.3.2.4.</span> <span class="nav-text">3.2.4 __var用于私有变量</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-2-5-var%E7%94%A8%E4%BA%8E%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95"><span class="nav-number">4.3.2.5.</span> <span class="nav-text">3.2.5 var用于魔术方法</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%89-%E5%B8%B8%E7%94%A8%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0"><span class="nav-number">5.</span> <span class="nav-text">三 常用内置函数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%E3%80%81class-range-stop"><span class="nav-number">5.1.</span> <span class="nav-text">1、class range(stop)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%E3%80%81next"><span class="nav-number">5.2.</span> <span class="nav-text">2、next()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3%E3%80%81iter"><span class="nav-number">5.3.</span> <span class="nav-text">3、iter()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4%E3%80%81len"><span class="nav-number">5.4.</span> <span class="nav-text">4、len()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5%E3%80%81zip"><span class="nav-number">5.5.</span> <span class="nav-text">5、zip()</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9B%9B-%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0%E3%80%90%E5%BE%85%E7%A1%AE%E5%AE%9A%E5%90%8D%E7%A7%B0%E3%80%91"><span class="nav-number">6.</span> <span class="nav-text">四 成员函数【待确定名称】</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%E3%80%81%E7%89%B9%E6%AE%8A%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0"><span class="nav-number">6.1.</span> <span class="nav-text">1、特殊成员函数</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-1-flatten"><span class="nav-number">6.1.1.</span> <span class="nav-text">1.1 flatten()</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%94-%E6%A8%A1%E5%9D%97"><span class="nav-number">7.</span> <span class="nav-text">五 模块</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%E3%80%81random%E6%A8%A1%E5%9D%97"><span class="nav-number">7.1.</span> <span class="nav-text">1、random模块</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-1-%E4%BB%8E%E6%8C%87%E5%AE%9A%E5%BA%8F%E5%88%97%E4%B8%AD%E7%94%9F%E6%88%90%E9%9A%8F%E6%9C%BA%E6%95%B0"><span class="nav-number">7.1.1.</span> <span class="nav-text">1.1 从指定序列中生成随机数</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E2%91%A3-random-shuffle-seq"><span class="nav-number">7.1.1.1.</span> <span class="nav-text">④ random.shuffle(seq)</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%E3%80%81Matplotlib"><span class="nav-number">7.2.</span> <span class="nav-text">2、Matplotlib</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-1-%E5%85%A5%E9%97%A8%E5%9F%BA%E7%A1%80"><span class="nav-number">7.2.1.</span> <span class="nav-text">2.1 入门基础</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#2-1-1-%E7%BB%98%E5%88%B6%E6%95%A3%E7%82%B9%E5%9B%BE"><span class="nav-number">7.2.1.1.</span> <span class="nav-text">2.1.1 绘制散点图</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%AD-%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA"><span class="nav-number">8.</span> <span class="nav-text">六 输入输出</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%E3%80%81%E6%96%87%E4%BB%B6%E5%86%99%E5%85%A5"><span class="nav-number">8.1.</span> <span class="nav-text">1、文件写入</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%83-%E9%94%99%E8%AF%AF%E4%B8%8E%E5%BC%82%E5%B8%B8"><span class="nav-number">9.</span> <span class="nav-text">七 错误与异常</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%E3%80%81%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%EF%BC%9Atry"><span class="nav-number">9.1.</span> <span class="nav-text">1、异常处理：try</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-1-try-except"><span class="nav-number">9.1.1.</span> <span class="nav-text">1.1 try&#x2F;except</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-2-try-except%E2%80%A6else"><span class="nav-number">9.1.2.</span> <span class="nav-text">1.2 try&#x2F;except…else</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-3-try-finally-%E8%AF%AD%E5%8F%A5"><span class="nav-number">9.1.3.</span> <span class="nav-text">1.3 try-finally 语句</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%E3%80%81%E6%8A%9B%E5%87%BA%E5%BC%82%E5%B8%B8"><span class="nav-number">9.2.</span> <span class="nav-text">2、抛出异常</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3%E3%80%81%E7%94%A8%E6%88%B7%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%82%E5%B8%B8"><span class="nav-number">9.3.</span> <span class="nav-text">3、用户自定义异常</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4%E3%80%81%E5%AE%9A%E4%B9%89%E6%B8%85%E7%90%86%E8%A1%8C%E4%B8%BA"><span class="nav-number">9.4.</span> <span class="nav-text">4、定义清理行为</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5%E3%80%81%E9%A2%84%E5%AE%9A%E4%B9%89%E7%9A%84%E6%B8%85%E7%90%86%E8%A1%8C%E4%B8%BA"><span class="nav-number">9.5.</span> <span class="nav-text">5、预定义的清理行为</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6%E3%80%81Python-assert-%E6%96%AD%E8%A8%80"><span class="nav-number">9.6.</span> <span class="nav-text">6、Python assert 断言</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7%E3%80%81Python-with-%E5%85%B3%E9%94%AE%E5%AD%97"><span class="nav-number">9.7.</span> <span class="nav-text">7、Python with 关键字</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%AB-Python-Pandas%E5%8C%85"><span class="nav-number">10.</span> <span class="nav-text">八 Python Pandas包</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E5%BC%95%E8%A8%80"><span class="nav-number">10.1.</span> <span class="nav-text">1 引言</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-Pandas-%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="nav-number">10.2.</span> <span class="nav-text">2 Pandas 的数据结构</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-1-Series"><span class="nav-number">10.2.1.</span> <span class="nav-text">2.1 Series</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-DataFrame"><span class="nav-number">10.2.2.</span> <span class="nav-text">2.2 DataFrame</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8D%81-%E6%9D%82%E9%A1%B9"><span class="nav-number">11.</span> <span class="nav-text">十 杂项</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-Python%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E7%9B%B8%E5%85%B3"><span class="nav-number">11.1.</span> <span class="nav-text">1 Python环境变量相关</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E6%9F%A5%E7%9C%8Bpython%E5%8C%85%E7%9A%84%E4%BB%A3%E7%A0%81"><span class="nav-number">11.2.</span> <span class="nav-text">2 查看python包的代码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-Pycharm%E5%AE%89%E8%A3%85%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93"><span class="nav-number">11.3.</span> <span class="nav-text">3 Pycharm安装第三方库</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9A%E5%88%A9%E7%94%A8pycharm%E8%87%AA%E5%B8%A6%E5%8A%9F%E8%83%BD%E8%BF%9B%E8%A1%8C%E5%AE%89%E8%A3%85"><span class="nav-number">11.3.1.</span> <span class="nav-text">方法一：利用pycharm自带功能进行安装</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C%EF%BC%9A%E5%88%A9%E7%94%A8pip%E8%BF%9B%E8%A1%8C%E5%AE%89%E8%A3%85"><span class="nav-number">11.3.2.</span> <span class="nav-text">方法二：利用pip进行安装</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%B9%E6%B3%95%E4%B8%89%EF%BC%9A%E8%87%AA%E8%A1%8C%E4%B8%8B%E8%BD%BD%E7%9B%B8%E5%85%B3whl%E6%96%87%E4%BB%B6"><span class="nav-number">11.3.3.</span> <span class="nav-text">方法三：自行下载相关whl文件</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8D%81%E4%B8%80-Pycharm%E6%8F%90%E9%80%9F"><span class="nav-number">12.</span> <span class="nav-text">十一 Pycharm提速</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-Pycharm-%E5%BF%AB%E6%8D%B7%E9%94%AE"><span class="nav-number">12.1.</span> <span class="nav-text">1 Pycharm 快捷键</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-1-%E5%9F%BA%E6%9C%AC%E7%83%AD%E9%94%AE"><span class="nav-number">12.1.1.</span> <span class="nav-text">1.1 基本热键</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8D%81%E4%BA%8C-%E5%B8%B8%E8%A7%81%E6%8A%A5%E9%94%99"><span class="nav-number">13.</span> <span class="nav-text">十二 常见报错</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E6%97%A0%E6%B3%95%E8%AF%BB%E5%8F%96shape%E5%B1%9E%E6%80%A7"><span class="nav-number">13.1.</span> <span class="nav-text">1 无法读取shape属性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E8%AF%AD%E6%B3%95%E9%94%99%E8%AF%AF%EF%BC%9A%E6%96%87%E4%BB%B6%E8%AF%BB%E5%8F%96%E5%A4%B1%E8%B4%A5"><span class="nav-number">13.2.</span> <span class="nav-text">2 语法错误：文件读取失败</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E6%B5%AE%E7%82%B9%E8%BD%AC%E5%AD%97%E7%AC%A6%E4%B8%B2%E9%94%99%E8%AF%AF"><span class="nav-number">13.3.</span> <span class="nav-text">3 浮点转字符串错误</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E5%8C%85%E5%AE%89%E8%A3%85%E9%94%99%E8%AF%AF"><span class="nav-number">13.4.</span> <span class="nav-text">4 包安装错误</span></a></li></ol></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="Moustache" src="/images/180-180.png"><p class="site-author-name" itemprop="name">Moustache</p><div class="site-description" itemprop="description">我是小胡子</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">78</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">9</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">34</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/hammerzer" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;hammerzer" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a> </span><span class="links-of-author-item"><a href="mailto:stellar_lzu@163.com" title="E-Mail → mailto:stellar_lzu@163.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a></span></div><div class="cc-license motion-element" itemprop="license"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a></div></div><div class="back-to-top motion-element"><i class="fa fa-arrow-up"></i> <span>0%</span></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2025</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">Chase</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-chart-area"></i> </span><span class="post-meta-item-text">站点总字数：</span> <span title="站点总字数">1.9m</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-coffee"></i> </span><span class="post-meta-item-text">站点阅读时长 &asymp;</span> <span title="站点阅读时长">29:01</span></div><div class="busuanzi-count"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="post-meta-item" id="busuanzi_container_site_uv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-user"></i> </span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span> </span></span><span class="post-meta-divider">|</span> <span class="post-meta-item" id="busuanzi_container_site_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div></div></footer></div><script size="300" alpha="0.4" zindex="-1" src="//cdn.jsdelivr.net/gh/theme-next/theme-next-canvas-ribbon@1/canvas-ribbon.js"></script><script src="/lib/anime.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script src="/js/local-search.js"></script><script>NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/valine@1/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'JRehDoQ6pHXV1zKg09AMNLFt-gzGzoHsz',
      appKey     : 'cRAt4W15KiQdrIuHlQrRrtIl',
      placeholder: "Just go go",
      avatar     : 'wavatar',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : true,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : true,
      serverURLs : ''
    });
  }, window.Valine);
});</script></body></html>